<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>ezglib.core documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Ezglib 0.1.7 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ezglib</span></div></div></li><li class="depth-2 branch current"><a href="ezglib.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="ezglib.gl.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>gl</span></div></a></li><li class="depth-2 branch"><a href="ezglib.math.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>math</span></div></a></li><li class="depth-2 branch"><a href="ezglib.protocol.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>protocol</span></div></a></li><li class="depth-2"><a href="ezglib.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="ezglib.core.html#var--.3ECamera2D"><div class="inner"><span>-&gt;Camera2D</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var--.3EEntity"><div class="inner"><span>-&gt;Entity</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var--.3EMutableCamera2D"><div class="inner"><span>-&gt;MutableCamera2D</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var--.3ESprite"><div class="inner"><span>-&gt;Sprite</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var--.3ESystem"><div class="inner"><span>-&gt;System</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var--.3EWorld"><div class="inner"><span>-&gt;World</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-add.21"><div class="inner"><span>add!</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-add-asset"><div class="inner"><span>add-asset</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-add-entity.21"><div class="inner"><span>add-entity!</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-add-handler.21"><div class="inner"><span>add-handler!</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-add-state.21"><div class="inner"><span>add-state!</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-add-system.21"><div class="inner"><span>add-system!</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-asset"><div class="inner"><span>asset</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-asset-group"><div class="inner"><span>asset-group</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-audio-context"><div class="inner"><span>audio-context</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-camera-2d"><div class="inner"><span>camera-2d</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-camera-2d.21"><div class="inner"><span>camera-2d!</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-Camera2D"><div class="inner"><span>Camera2D</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-canvas"><div class="inner"><span>canvas</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-create-audio-context"><div class="inner"><span>create-audio-context</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-current-state"><div class="inner"><span>current-state</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-current-state-id"><div class="inner"><span>current-state-id</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-delta"><div class="inner"><span>delta</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-drain.21"><div class="inner"><span>drain!</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-end-game.21"><div class="inner"><span>end-game!</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-enqueue-event.21"><div class="inner"><span>enqueue-event!</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-entity"><div class="inner"><span>entity</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-Entity"><div class="inner"><span>Entity</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-entity.3F"><div class="inner"><span>entity?</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-event-key"><div class="inner"><span>event-key</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-event-queue"><div class="inner"><span>event-queue</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-free.21"><div class="inner"><span>free!</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-free-all.21"><div class="inner"><span>free-all!</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-free-all-type.21"><div class="inner"><span>free-all-type!</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-game"><div class="inner"><span>game</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-get-state"><div class="inner"><span>get-state</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-gl"><div class="inner"><span>gl</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-handler"><div class="inner"><span>handler</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-id"><div class="inner"><span>id</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-key-down.3F"><div class="inner"><span>key-down?</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-key-pressed.3F"><div class="inner"><span>key-pressed?</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-load.21"><div class="inner"><span>load!</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-main-loop.21"><div class="inner"><span>main-loop!</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-matcher"><div class="inner"><span>matcher</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-mouse-down.3F"><div class="inner"><span>mouse-down?</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-mouse-global-pos"><div class="inner"><span>mouse-global-pos</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-mouse-pos"><div class="inner"><span>mouse-pos</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-mouse-x"><div class="inner"><span>mouse-x</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-mouse-y"><div class="inner"><span>mouse-y</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-movement-system"><div class="inner"><span>movement-system</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-MutableCamera2D"><div class="inner"><span>MutableCamera2D</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-now"><div class="inner"><span>now</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-on-key-down.21"><div class="inner"><span>on-key-down!</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-on-key-press.21"><div class="inner"><span>on-key-press!</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-on-key-release.21"><div class="inner"><span>on-key-release!</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-play.21"><div class="inner"><span>play!</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-prop"><div class="inner"><span>prop</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-remove-entity.21"><div class="inner"><span>remove-entity!</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-remove-handler.21"><div class="inner"><span>remove-handler!</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-remove-state.21"><div class="inner"><span>remove-state!</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-remove-system.21"><div class="inner"><span>remove-system!</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-render-system"><div class="inner"><span>render-system</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-rotate2d-system"><div class="inner"><span>rotate2d-system</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-set-prop.21"><div class="inner"><span>set-prop!</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-set-state.21"><div class="inner"><span>set-state!</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-Sprite"><div class="inner"><span>Sprite</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-sprite"><div class="inner"><span>sprite</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-state"><div class="inner"><span>state</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-states"><div class="inner"><span>states</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-swap-prop.21"><div class="inner"><span>swap-prop!</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-system"><div class="inner"><span>system</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-System"><div class="inner"><span>System</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-system.3F"><div class="inner"><span>system?</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-texture-shader"><div class="inner"><span>texture-shader</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-transform2d-system"><div class="inner"><span>transform2d-system</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-try-add-entity-to-system.21"><div class="inner"><span>try-add-entity-to-system!</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-uid"><div class="inner"><span>uid</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-update.21"><div class="inner"><span>update!</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-World"><div class="inner"><span>World</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-world"><div class="inner"><span>world</span></div></a></li><li class="depth-1"><a href="ezglib.core.html#var-world.3F"><div class="inner"><span>world?</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">ezglib.core</h2><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var--.3ECamera2D"><h3>-&gt;Camera2D</h3><div class="usage"><code>(-&gt;Camera2D x y hw hh angle matrix)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L319">view source</a></div></div><div class="public anchor" id="var--.3EEntity"><h3>-&gt;Entity</h3><div class="usage"><code>(-&gt;Entity id changed-in-worlds)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L624">view source</a></div></div><div class="public anchor" id="var--.3EMutableCamera2D"><h3>-&gt;MutableCamera2D</h3><div class="usage"><code>(-&gt;MutableCamera2D x y hw hh angle)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L323">view source</a></div></div><div class="public anchor" id="var--.3ESprite"><h3>-&gt;Sprite</h3><div class="usage"><code>(-&gt;Sprite gl tex verts uv)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L369">view source</a></div></div><div class="public anchor" id="var--.3ESystem"><h3>-&gt;System</h3><div class="usage"><code>(-&gt;System id matcher func one-time-func)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L618">view source</a></div></div><div class="public anchor" id="var--.3EWorld"><h3>-&gt;World</h3><div class="usage"><code>(-&gt;World id entities systems-by-priority system-entities)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L612">view source</a></div></div><div class="public anchor" id="var-add.21"><h3>add!</h3><div class="usage"><code>(add! world &amp; items)</code></div><div class="doc"><pre class="plaintext">Adds systems and entities to the world. Returns the world.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L746">view source</a></div></div><div class="public anchor" id="var-add-asset"><h3>add-asset</h3><div class="usage"><code>(add-asset &amp; {:keys [asset load-fn is-done? free-fn]})</code></div><div class="doc"><pre class="plaintext">Adds functionality for loading and freeing assets. Takes named parameters.


:asset - the name of the asset to define, should be a keyword.

:load-fn - fn that takes at least one argument, the game, and any number of other arguments.
Returns a handle to the loading process.

:is-done? (optional) - fn to check if the loading is done (should take two
parameters, the game and the asset handle.)
If so, should return either the original handle or a new handle to the asset.
Default value is (fn [game x] x).

:free-fn (optional) - fn that frees the asset from memory (takes two
parameters, the game and the asset handle).
free-fn should take the same parameter that is-fn returns.
Default value is (fn [game x] nil).</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L129">view source</a></div></div><div class="public anchor" id="var-add-entity.21"><h3>add-entity!</h3><div class="usage"><code>(add-entity! world entity)</code></div><div class="doc"><pre class="plaintext">Adds an entity to the world.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L726">view source</a></div></div><div class="public anchor" id="var-add-handler.21"><h3>add-handler!</h3><div class="usage"><code>(add-handler! state event-type handler)</code></div><div class="doc"><pre class="plaintext">Adds a handler to the state for a certain event type.
Returns the handler id.</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L498">view source</a></div></div><div class="public anchor" id="var-add-state.21"><h3>add-state!</h3><div class="usage"><code>(add-state! game state-id state)</code></div><div class="doc"><pre class="plaintext">Adds a state to the game. A state is created via
ezglib.core/state, and encapsulates an update and render function
for the game, as well as event handlers. A game state also can contain
a entity-component-system world, created vie ezglib.core/world.</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L527">view source</a></div></div><div class="public anchor" id="var-add-system.21"><h3>add-system!</h3><div class="usage"><code>(add-system! world system priority)</code></div><div class="doc"><pre class="plaintext">Adds a system to the world.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L718">view source</a></div></div><div class="public anchor" id="var-asset"><h3>asset</h3><div class="usage"><code>(asset id)</code><code>(asset asset-group id)</code></div><div class="doc"><pre class="plaintext">Checks if the given asset has been loaded. If so, returns it - else
returns nil.</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L26">view source</a></div></div><div class="public anchor" id="var-asset-group"><h3>asset-group</h3><div class="usage"><code>(asset-group)</code></div><div class="doc"><pre class="plaintext">Creates a new asset group.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L16">view source</a></div></div><div class="public anchor" id="var-audio-context"><h3>audio-context</h3><div class="usage"><code>(audio-context game)</code></div><div class="doc"><pre class="plaintext">Gets the audio context from the game.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L1074">view source</a></div></div><div class="public anchor" id="var-camera-2d"><h3>camera-2d</h3><div class="usage"><code>(camera-2d x y hw hh)</code><code>(camera-2d x y hw hh angle)</code></div><div class="doc"><pre class="plaintext">Constructs a 2D camera.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L334">view source</a></div></div><div class="public anchor" id="var-camera-2d.21"><h3>camera-2d!</h3><div class="usage"><code>(camera-2d! x y hw hh)</code><code>(camera-2d! x y hw hh angle)</code></div><div class="doc"><pre class="plaintext">Constructs a mutable 2D camera.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L355">view source</a></div></div><div class="public anchor" id="var-Camera2D"><h3>Camera2D</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L319">view source</a></div></div><div class="public anchor" id="var-canvas"><h3>canvas</h3><div class="usage"><code>(canvas game)</code></div><div class="doc"><pre class="plaintext">Gets the game canvas used for rendering.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L1049">view source</a></div></div><div class="public anchor" id="var-create-audio-context"><h3>create-audio-context</h3><div class="usage"><code>(create-audio-context)</code></div><div class="doc"><pre class="plaintext">Creates an audio context.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L151">view source</a></div></div><div class="public anchor" id="var-current-state"><h3>current-state</h3><div class="usage"><code>(current-state game)</code></div><div class="doc"><pre class="plaintext">Gets the current state of the game.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L545">view source</a></div></div><div class="public anchor" id="var-current-state-id"><h3>current-state-id</h3><div class="usage"><code>(current-state-id game)</code></div><div class="doc"><pre class="plaintext">Gets the id of the current state of the game.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L540">view source</a></div></div><div class="public anchor" id="var-delta"><h3>delta</h3><div class="usage"><code>(delta game)</code></div><div class="doc"><pre class="plaintext">Gets the change in time since the last frame.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L1054">view source</a></div></div><div class="public anchor" id="var-drain.21"><h3>drain!</h3><div class="usage"><code>(drain! game)</code></div><div class="doc"><pre class="plaintext">Drains all events in the event queue.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L491">view source</a></div></div><div class="public anchor" id="var-end-game.21"><h3>end-game!</h3><div class="usage"><code>(end-game! game)</code></div><div class="doc"><pre class="plaintext">Ends the main loop of the game.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L1112">view source</a></div></div><div class="public anchor" id="var-enqueue-event.21"><h3>enqueue-event!</h3><div class="usage"><code>(enqueue-event! game event-type &amp; params)</code></div><div class="doc"><pre class="plaintext">Queues an event that happened in the game.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L471">view source</a></div></div><div class="public anchor" id="var-entity"><h3>entity</h3><div class="usage"><code>(entity &amp; properties)</code></div><div class="doc"><pre class="plaintext">Creates a new entity.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L652">view source</a></div></div><div class="public anchor" id="var-Entity"><h3>Entity</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L624">view source</a></div></div><div class="public anchor" id="var-entity.3F"><h3>entity?</h3><div class="usage"><code>(entity? x)</code></div><div class="doc"><pre class="plaintext">Is x an entity?
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L637">view source</a></div></div><div class="public anchor" id="var-event-key"><h3>event-key</h3><div class="usage"><code>(event-key ev)</code></div><div class="doc"><pre class="plaintext">Gets the key from the keyboard event.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L896">view source</a></div></div><div class="public anchor" id="var-event-queue"><h3>event-queue</h3><div class="usage"><code>(event-queue game)</code></div><div class="doc"><pre class="plaintext">Gets the event queue of the game.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L1064">view source</a></div></div><div class="public anchor" id="var-free.21"><h3>free!</h3><div class="usage"><code>(free! asset-group ids)</code><code>(free! ids)</code></div><div class="doc"><pre class="plaintext">Frees already loaded assets.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L95">view source</a></div></div><div class="public anchor" id="var-free-all.21"><h3>free-all!</h3><div class="usage"><code>(free-all! asset-group)</code><code>(free-all!)</code></div><div class="doc"><pre class="plaintext">Frees all assets of one type, or all
assets if no type is specified. When called with no
arguments, will only free the default asset group.</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L119">view source</a></div></div><div class="public anchor" id="var-free-all-type.21"><h3>free-all-type!</h3><div class="usage"><code>(free-all-type! asset-group asset-type)</code><code>(free-all-type! asset-type)</code></div><div class="doc"><pre class="plaintext">Frees all assets of a single type.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L111">view source</a></div></div><div class="public anchor" id="var-game"><h3>game</h3><div class="usage"><code>(game width height canvas)</code><code>(game width height)</code></div><div class="doc"><pre class="plaintext">Creates a new game.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L1021">view source</a></div></div><div class="public anchor" id="var-get-state"><h3>get-state</h3><div class="usage"><code>(get-state game id)</code></div><div class="doc"><pre class="plaintext">Retrieves a state by id from the game.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L550">view source</a></div></div><div class="public anchor" id="var-gl"><h3>gl</h3><div class="usage"><code>(gl game)</code></div><div class="doc"><pre class="plaintext">Gets the gl context from the game.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L1069">view source</a></div></div><div class="public anchor" id="var-handler"><h3>handler</h3><div class="usage"><code>(handler state id)</code></div><div class="doc"><pre class="plaintext">Gets the handler associated with the given id
in the state.</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L507">view source</a></div></div><div class="public anchor" id="var-id"><h3>id</h3><div class="usage"><code>(id x)</code></div><div class="doc"><pre class="plaintext">Gets the id of a world, system, or entity.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L632">view source</a></div></div><div class="public anchor" id="var-key-down.3F"><h3>key-down?</h3><div class="usage"><code>(key-down? k)</code></div><div class="doc"><pre class="plaintext">Checks if the given key is down. k should be
the keyword representation of the key, like :a, :b, :space, :up, etc.</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L782">view source</a></div></div><div class="public anchor" id="var-key-pressed.3F"><h3>key-pressed?</h3><div class="usage"><code>(key-pressed? k)</code></div><div class="doc"><pre class="plaintext">Checks if the given key has been pressed. k should be
the keyword representation of the key, like :a, :b, :space, :up, etc.</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L788">view source</a></div></div><div class="public anchor" id="var-load.21"><h3>load!</h3><div class="usage"><code>(load! game &amp; args)</code></div><div class="doc"><pre class="plaintext">Loads assets async, and binds them to identifiers for later use.
Loaded assets can be retrieved via ezglib.core/asset. load!
returns an atom that encapsulates
the progress of loading as a number between 0 and 1.

load! requires an instance of game (created via ezglib.core/game),
and takes variadic arguments in map form.

:assets - a map of asset-ids to  vectors representing the assets to load.
Should take the form {:id [:asset-type &amp; loading-arguments]}.
For example, (load! game
:assets {:beep [:sound &quot;assets/beep.wav&quot;]
         :click [:sound &quot;assets/click.wav&quot;]})
will load two sounds and store them as assets named :click and :beep.

:asset-group (optional) - the asset group to load the asset into. Asset groups
can be used to organize assets.

:update (optional) - a function that&apos;s called every frame while the loading
hasn&apos;t finished. Takes one parameter, the progress as a value from 0 to 1.

:on-load (optional) - a callback function that is called when loading is finished.</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L45">view source</a></div></div><div class="public anchor" id="var-main-loop.21"><h3>main-loop!</h3><div class="usage"><code>(main-loop! game fps)</code><code>(main-loop! game)</code></div><div class="doc"><pre class="plaintext">Runs the main loop of a game. If no fps
is provided, will run at native fps.</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L1102">view source</a></div></div><div class="public anchor" id="var-matcher"><h3>matcher</h3><div class="usage"><code>(matcher required excluded one-required)</code><code>(matcher required excluded)</code><code>(matcher required)</code></div><div class="doc"><pre class="plaintext">Creates a new system matcher. A system matcher matches entities to systems based
on their properties.</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L663">view source</a></div></div><div class="public anchor" id="var-mouse-down.3F"><h3>mouse-down?</h3><div class="usage"><code>(mouse-down? button)</code><code>(mouse-down?)</code></div><div class="doc"><pre class="plaintext">Checks if the mouse button is down. 1 is the left button, 2 is the middle, 3 is the right.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L977">view source</a></div></div><div class="public anchor" id="var-mouse-global-pos"><h3>mouse-global-pos</h3><div class="usage"><code>(mouse-global-pos)</code></div><div class="doc"><pre class="plaintext">Gets the global mouse position in the browser. Not recommended for most use.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L954">view source</a></div></div><div class="public anchor" id="var-mouse-pos"><h3>mouse-pos</h3><div class="usage"><code>(mouse-pos game)</code></div><div class="doc"><pre class="plaintext">Gets the current mouse position in the form [x y].
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L959">view source</a></div></div><div class="public anchor" id="var-mouse-x"><h3>mouse-x</h3><div class="usage"><code>(mouse-x game)</code></div><div class="doc"><pre class="plaintext">Gets the current mouse x coordinate.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L967">view source</a></div></div><div class="public anchor" id="var-mouse-y"><h3>mouse-y</h3><div class="usage"><code>(mouse-y game)</code></div><div class="doc"><pre class="plaintext">Gets the current mouse y coordinate.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L972">view source</a></div></div><div class="public anchor" id="var-movement-system"><h3>movement-system</h3><div class="usage"><code>(movement-system game)</code></div><div class="doc"><pre class="plaintext">Creates a system that moves an entity&apos;s :position based on its :velocity.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L1160">view source</a></div></div><div class="public anchor" id="var-MutableCamera2D"><h3>MutableCamera2D</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L323">view source</a></div></div><div class="public anchor" id="var-now"><h3>now</h3><div class="usage"><code>(now game)</code></div><div class="doc"><pre class="plaintext">Gets the time of the current frame.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L1059">view source</a></div></div><div class="public anchor" id="var-on-key-down.21"><h3>on-key-down!</h3><div class="usage"><code>(on-key-down! state k fn1)</code></div><div class="doc"><pre class="plaintext">Adds an event handler for key presses.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L906">view source</a></div></div><div class="public anchor" id="var-on-key-press.21"><h3>on-key-press!</h3><div class="usage"><code>(on-key-press! state k fn1)</code></div><div class="doc"><pre class="plaintext">Adds an event handler for key presses.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L901">view source</a></div></div><div class="public anchor" id="var-on-key-release.21"><h3>on-key-release!</h3><div class="usage"><code>(on-key-release! state k fn1)</code></div><div class="doc"><pre class="plaintext">Adds an event handler for key releases.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L911">view source</a></div></div><div class="public anchor" id="var-play.21"><h3>play!</h3><div class="usage"><code>(play! sound)</code></div><div class="doc"><pre class="plaintext">Plays a sound.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L157">view source</a></div></div><div class="public anchor" id="var-prop"><h3>prop</h3><div class="usage"><code>(prop e property)</code></div><div class="doc"><pre class="plaintext">Gets a property of an entity.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L695">view source</a></div></div><div class="public anchor" id="var-remove-entity.21"><h3>remove-entity!</h3><div class="usage"><code>(remove-entity! world entity)</code></div><div class="doc"><pre class="plaintext">Removes an entity from a world. Returns the entity.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L732">view source</a></div></div><div class="public anchor" id="var-remove-handler.21"><h3>remove-handler!</h3><div class="usage"><code>(remove-handler! state id)</code></div><div class="doc"><pre class="plaintext">Removes a handler from the state by id.
Returns the handler.</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L514">view source</a></div></div><div class="public anchor" id="var-remove-state.21"><h3>remove-state!</h3><div class="usage"><code>(remove-state! game state-id)</code></div><div class="doc"><pre class="plaintext">Removes a state from the game.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L535">view source</a></div></div><div class="public anchor" id="var-remove-system.21"><h3>remove-system!</h3><div class="usage"><code>(remove-system! world system)</code></div><div class="doc"><pre class="plaintext">Removes a system from the world. Returns the system.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L739">view source</a></div></div><div class="public anchor" id="var-render-system"><h3>render-system</h3><div class="usage"><code>(render-system game &amp; {:keys [shader camera color]})</code></div><div class="doc"><pre class="plaintext">Creates a simple render system that renders the :drawable property
of entities.</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L1135">view source</a></div></div><div class="public anchor" id="var-rotate2d-system"><h3>rotate2d-system</h3><div class="usage"><code>(rotate2d-system game)</code></div><div class="doc"><pre class="plaintext">Creates a system that changes an entity&apos;s :rotation based on its :angular-velocity.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L1169">view source</a></div></div><div class="public anchor" id="var-set-prop.21"><h3>set-prop!</h3><div class="usage"><code>(set-prop! e property value)</code></div><div class="doc"><pre class="plaintext">Sets a property of an entity. Returns the new value.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L705">view source</a></div></div><div class="public anchor" id="var-set-state.21"><h3>set-state!</h3><div class="usage"><code>(set-state! game state-id)</code></div><div class="doc"><pre class="plaintext">Sets the state of the game. If state-id
does not exist in the game, does nothing and returns nil. Else
sets the game state and returns the new state.</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L555">view source</a></div></div><div class="public anchor" id="var-Sprite"><h3>Sprite</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L369">view source</a></div></div><div class="public anchor" id="var-sprite"><h3>sprite</h3><div class="usage"><code>(sprite tex)</code></div><div class="doc"><pre class="plaintext">Creates a new sprite from a texture.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L379">view source</a></div></div><div class="public anchor" id="var-state"><h3>state</h3><div class="usage"><code>(state game &amp; {:keys [update render handlers key-press key-release key-down world]})</code></div><div class="doc"><pre class="plaintext">Makes a game state with specified handlers. Options:

:update (optional) - a function called once a frame while this game state is active.

:render (optional) - a function called after :update and default rendering for custom drawing.

:handlers (optional) - a map of event-types to handler functions. When
the event is trigger and the given event-type is pushed to the event-queue, all
handlers in the game state are called.

:world (optional) - a world created via ezglib.core/world that encapsulates
entities, systems, and components.

:key-press, :key-release, :key-down (optional) - maps of keys as keywords to handlers.
For example, to log to console when the space bar is pressed, one would add
the option :key-press {:space (fn [key-event] (.log js/console &quot;Space Pressed!&quot;))}</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L575">view source</a></div></div><div class="public anchor" id="var-states"><h3>states</h3><div class="usage"><code>(states game)</code></div><div class="doc"><pre class="plaintext">Gets all availble states of the game.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L568">view source</a></div></div><div class="public anchor" id="var-swap-prop.21"><h3>swap-prop!</h3><div class="usage"><code>(swap-prop! e property f &amp; args)</code></div><div class="doc"><pre class="plaintext">Similar to swap! on atoms.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L713">view source</a></div></div><div class="public anchor" id="var-system"><h3>system</h3><div class="usage"><code>(system matcher per-entity-func)</code><code>(system matcher per-entity-func func)</code></div><div class="doc"><pre class="plaintext">Creates a new system. Systems process entities, which hold the game data.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L684">view source</a></div></div><div class="public anchor" id="var-System"><h3>System</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L618">view source</a></div></div><div class="public anchor" id="var-system.3F"><h3>system?</h3><div class="usage"><code>(system? x)</code></div><div class="doc"><pre class="plaintext">Is x a system?
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L642">view source</a></div></div><div class="public anchor" id="var-texture-shader"><h3>texture-shader</h3><div class="usage"><code>(texture-shader gl)</code></div><div class="doc"><pre class="plaintext">Creates an ezglib texture shader for a gl context.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L282">view source</a></div></div><div class="public anchor" id="var-transform2d-system"><h3>transform2d-system</h3><div class="usage"><code>(transform2d-system game)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L1121">view source</a></div></div><div class="public anchor" id="var-try-add-entity-to-system.21"><h3>try-add-entity-to-system!</h3><div class="usage"><code>(try-add-entity-to-system! world entity system)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L691">view source</a></div></div><div class="public anchor" id="var-uid"><h3>uid</h3><div class="usage"><code>(uid)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L630">view source</a></div></div><div class="public anchor" id="var-update.21"><h3>update!</h3><div class="usage"><code>(update! world)</code></div><div class="doc"><pre class="plaintext">Updates the world.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L761">view source</a></div></div><div class="public anchor" id="var-World"><h3>World</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L612">view source</a></div></div><div class="public anchor" id="var-world"><h3>world</h3><div class="usage"><code>(world &amp; items)</code></div><div class="doc"><pre class="plaintext">Creates a new world.
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L756">view source</a></div></div><div class="public anchor" id="var-world.3F"><h3>world?</h3><div class="usage"><code>(world? x)</code></div><div class="doc"><pre class="plaintext">Is x a world?
</pre></div><div class="src-link"><a href="http://github.com/bakpakin/ezglib/blob/master/src/ezglib/core.cljs#L647">view source</a></div></div></div></body></html>